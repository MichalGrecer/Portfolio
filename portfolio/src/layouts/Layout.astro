---
interface Props {
	title: string;
}
const { title } = Astro.props;
---
<!doctype html>
<html lang="pl" class="bg-[#050505]">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<title>{title}</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/geist@1.3.0/dist/fonts/geist-sans/style.css" />
            <script is:inline>
  const theme = (() => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    }
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark';
    }
    return 'light';
  })();
  
  if (theme === 'light') {
    document.documentElement.classList.remove('dark');
  } else {
    document.documentElement.classList.add('dark');
  }
</script>
	</head>
<body class="bg-white dark:bg-[#050505] text-zinc-900 dark:text-zinc-400 transition-colors duration-300 antialiased font-sans">
  <div class="fixed inset-0 -z-10 pointer-events-none">
    <div class="absolute inset-x-0 top-0 h-[500px] bg-gradient-to-b from-blue-500/5 dark:from-blue-500/10 to-transparent"></div>
    
    <div class="absolute inset-y-0 left-0 w-[20%] bg-gradient-to-r from-zinc-100/50 dark:from-blue-900/5 to-transparent"></div>
    <div class="absolute inset-y-0 right-0 w-[20%] bg-gradient-to-l from-zinc-100/50 dark:from-blue-900/5 to-transparent"></div>
  </div>

  <slot />
</body>

<style is:global>
:root {
    /* Domyślne ustawienia dla trybu jasnego */
    color-scheme: light;
  }

  .dark {
    /* Ustawienia tylko dla trybu ciemnego */
    color-scheme: dark;
  }

  html {
    /* Tutaj usuwamy background: #050505 - niech Tailwind o tym decyduje */
    font-family: 'Geist Sans', system-ui, sans-serif;
  }

  body {
    /* Jeśli musisz mieć tu style, używaj ich tylko jako fallback */
    @apply bg-white text-zinc-900 transition-colors duration-300;
  }

  .dark body {
    /* Gdy obecna jest klasa .dark, wymuś ciemne tło */
    @apply bg-[#050505] text-zinc-400;
  }
	/* Custom scrollbar dla macOS feel */
	::-webkit-scrollbar { width: 8px; }
	::-webkit-scrollbar-track { background: #050505; }
	::-webkit-scrollbar-thumb { background: #18181b; border-radius: 10px; }
	::-webkit-scrollbar-thumb:hover { background: #27272a; }

</style>
<script>
  import { ClientRouter } from 'astro:transitions';
</script>
<ClientRouter />